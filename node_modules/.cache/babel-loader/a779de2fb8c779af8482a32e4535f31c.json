{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dev1\\\\Ludo-React\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport \"./styles/App.css\";\nimport { useEffect } from \"react\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport _ from \"lodash\";\nimport * as states from \"./recoil/atoms\";\nimport HomeCenter from \"./components/homeCenter\";\nimport StepsGrid from \"./components/stepsGrid\";\nimport HomeBox from \"./components/homeBox\";\nimport GameSetup from \"./components/gameSetup\";\nimport { colorMap, moves, playerOrder } from \"./config/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Emulation() {\n  _s();\n\n  const [currentPlayer, setCurrentPlayer] = useRecoilState(states.currentPlayerState);\n  const [diceState, setDiceState] = useRecoilState(states.currentDiceState);\n  const [blockState, setBlockState] = useRecoilState(states.allBlockState);\n  const [coinState, setCoinState] = useRecoilState(states.allCoinState);\n  const playersList = useRecoilValue(states.currentPlayersListState); // useEffect(() => {\n  //   console.log(JSON.stringify({ blockState, coinState }, 0, 2));\n  // }, [JSON.stringify(coinState), JSON.stringify(blockState)]);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [[1, 2, 3, 4, 5, 6].map(i => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setDiceState({\n          num: i,\n          isLocked: false,\n          lastRolledBy: currentPlayer\n        });\n      },\n      children: i\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), playersList.map((elem, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setCurrentPlayer(elem);\n      },\n      style: {\n        backgroundColor: elem\n      },\n      children: elem\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Enter (eg; p1-t40): \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onKeyUp: ({\n          code,\n          currentTarget: {\n            value\n          }\n        }) => {\n          if (code === \"Enter\") {\n            if (value.match(/^[pyrt][0-3]-[pyrt]\\d{2}$/)) {\n              const [coinKey, boxKey] = value.split(\"-\");\n              const parent = colorMap[coinKey[0]];\n              if (!playersList.includes(parent)) return;\n              const oldPosition = coinState[parent][coinKey].position;\n              setCoinState({ ...coinState,\n                [parent]: { ...coinState[parent],\n                  [coinKey]: {\n                    position: boxKey,\n                    isTurnAvailable: false\n                  }\n                }\n              });\n\n              const oldBlockState = _.cloneDeep(blockState);\n\n              oldPosition && !oldPosition.includes(\"home\") && oldBlockState[oldPosition].splice(oldBlockState[oldPosition].indexOf(coinKey), 1);\n              setBlockState({ ...oldBlockState,\n                [boxKey]: [...new Set([...(oldBlockState[boxKey] || []), coinKey])]\n              });\n            } else alert(\"Wrong input!\");\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Emulation, \"ncDT+6AL5QHfjKjBzJGEJ28Wcy8=\", false, function () {\n  return [useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilValue];\n});\n\n_c = Emulation;\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(GameSetup, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boardWrapper\",\n        style: \"border-style:groove;\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"innerRow\",\n          children: [/*#__PURE__*/_jsxDEV(HomeBox, {\n            parent: \"palegreen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StepsGrid, {\n            parent: \"yellow\",\n            adjacentDirection: \"leftOrTop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(HomeBox, {\n            parent: \"yellow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"innerRow\",\n          children: [/*#__PURE__*/_jsxDEV(StepsGrid, {\n            style: {\n              transform: \"rotate(90deg)\"\n            },\n            parent: \"palegreen\",\n            adjacentDirection: \"rightOrBottom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(HomeCenter, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StepsGrid, {\n            style: {\n              transform: \"rotate(90deg)\"\n            },\n            parent: \"royalblue\",\n            adjacentDirection: \"leftOrTop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"innerRow\",\n          children: [/*#__PURE__*/_jsxDEV(HomeBox, {\n            parent: \"tomato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StepsGrid, {\n            parent: \"tomato\",\n            adjacentDirection: \"rightOrBottom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(HomeBox, {\n            parent: \"royalblue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Emulation\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["C:/Users/dev1/Ludo-React/src/App.js"],"names":["useEffect","useRecoilState","useRecoilValue","_","states","HomeCenter","StepsGrid","HomeBox","GameSetup","colorMap","moves","playerOrder","Emulation","currentPlayer","setCurrentPlayer","currentPlayerState","diceState","setDiceState","currentDiceState","blockState","setBlockState","allBlockState","coinState","setCoinState","allCoinState","playersList","currentPlayersListState","map","i","num","isLocked","lastRolledBy","elem","backgroundColor","code","currentTarget","value","match","coinKey","boxKey","split","parent","includes","oldPosition","position","isTurnAvailable","oldBlockState","cloneDeep","splice","indexOf","Set","alert","App","transform"],"mappings":"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","sourcesContent":["import \"./styles/App.css\";\r\nimport { useEffect } from \"react\";\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\nimport _ from \"lodash\";\r\n\r\nimport * as states from \"./recoil/atoms\";\r\n\r\nimport HomeCenter from \"./components/homeCenter\";\r\nimport StepsGrid from \"./components/stepsGrid\";\r\nimport HomeBox from \"./components/homeBox\";\r\nimport GameSetup from \"./components/gameSetup\";\r\nimport { colorMap, moves, playerOrder } from \"./config/constants\";\r\n\r\nfunction Emulation() {\r\n  const [currentPlayer, setCurrentPlayer] = useRecoilState(\r\n    states.currentPlayerState\r\n  );\r\n  const [diceState, setDiceState] = useRecoilState(states.currentDiceState);\r\n  const [blockState, setBlockState] = useRecoilState(states.allBlockState);\r\n  const [coinState, setCoinState] = useRecoilState(states.allCoinState);\r\n  const playersList = useRecoilValue(states.currentPlayersListState);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(JSON.stringify({ blockState, coinState }, 0, 2));\r\n  // }, [JSON.stringify(coinState), JSON.stringify(blockState)]);\r\n\r\n  return (\r\n    <div>\r\n      {[1, 2, 3, 4, 5, 6].map((i) => (\r\n        <button\r\n          key={i}\r\n          onClick={() => {\r\n            setDiceState({\r\n              num: i,\r\n              isLocked: false,\r\n              lastRolledBy: currentPlayer,\r\n            });\r\n          }}\r\n        >\r\n          {i}\r\n        </button>\r\n      ))}\r\n      <br />\r\n      {playersList.map((elem, i) => (\r\n        <button\r\n          key={i}\r\n          onClick={() => {\r\n            setCurrentPlayer(elem);\r\n          }}\r\n          style={{ backgroundColor: elem }}\r\n        >\r\n          {elem}\r\n        </button>\r\n      ))}\r\n      <div>\r\n        <span>Enter (eg; p1-t40): </span>\r\n        <input\r\n          type=\"text\"\r\n          onKeyUp={({ code, currentTarget: { value } }) => {\r\n            if (code === \"Enter\") {\r\n              if (value.match(/^[pyrt][0-3]-[pyrt]\\d{2}$/)) {\r\n                const [coinKey, boxKey] = value.split(\"-\");\r\n                const parent = colorMap[coinKey[0]];\r\n                if (!playersList.includes(parent)) return;\r\n                const oldPosition = coinState[parent][coinKey].position;\r\n\r\n                setCoinState({\r\n                  ...coinState,\r\n                  [parent]: {\r\n                    ...coinState[parent],\r\n                    [coinKey]: { position: boxKey, isTurnAvailable: false },\r\n                  },\r\n                });\r\n\r\n                const oldBlockState = _.cloneDeep(blockState);\r\n\r\n                oldPosition &&\r\n                  !oldPosition.includes(\"home\") &&\r\n                  oldBlockState[oldPosition].splice(\r\n                    oldBlockState[oldPosition].indexOf(coinKey),\r\n                    1\r\n                  );\r\n\r\n                setBlockState({\r\n                  ...oldBlockState,\r\n                  [boxKey]: [\r\n                    ...new Set([...(oldBlockState[boxKey] || []), coinKey]),\r\n                  ],\r\n                });\r\n              } else alert(\"Wrong input!\");\r\n            }\r\n          }}\r\n        ></input>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <GameSetup />\r\n      <div className=\"App\">\r\n        <div className=\"boardWrapper\" style={\"border-style:groove;\"}>\r\n          <div className=\"innerRow\">\r\n            <HomeBox parent=\"palegreen\" />\r\n            <StepsGrid parent=\"yellow\" adjacentDirection=\"leftOrTop\" />\r\n            <HomeBox parent=\"yellow\" />\r\n          </div>\r\n          <div className=\"innerRow\">\r\n            <StepsGrid\r\n              style={{ transform: \"rotate(90deg)\" }}\r\n              parent=\"palegreen\"\r\n              adjacentDirection=\"rightOrBottom\"\r\n            />\r\n            <HomeCenter />\r\n            <StepsGrid\r\n              style={{ transform: \"rotate(90deg)\" }}\r\n              parent=\"royalblue\"\r\n              adjacentDirection=\"leftOrTop\"\r\n            />\r\n          </div>\r\n          <div className=\"innerRow\">\r\n            <HomeBox parent=\"tomato\" />\r\n            <StepsGrid parent=\"tomato\" adjacentDirection=\"rightOrBottom\" />\r\n            <HomeBox parent=\"royalblue\" />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        {/* {process.env.NODE_ENV === \"development\" && <Emulation />} */}\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}